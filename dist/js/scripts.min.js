const total_count=document.getElementById("total_count"),DATA_COUNT=7,labels_one=["12-6-14","12-7-14","12-8-14","12-9-14","12-10-14","12-11-14"],data_one={labels:labels_one,datasets:[{label:"visitors",backgroundColor:"rgb(254, 199, 63)",borderColor:"rgb(254, 199, 63)",data:[15,5,16,20,21,30,25],pointStyle:"circle",pointRadius:6,pointBorderColor:"rgb(255, 255, 255)",pointBackgroundColor:"rgb(255, 0, 0)"},{label:"sales",backgroundColor:"rgb(30, 255, 0)",borderColor:"rgb(30, 255, 0)",data:[0,10,5,2,20,30,45],pointStyle:"circle",pointRadius:6,pointBorderColor:"rgb(255, 255, 255)",pointBackgroundColor:"rgb(255, 0, 216)"}]},config_one={type:"line",data:data_one,options:{interaction:{mode:"index"},plugins:{legend:{position:"bottom",labels:{color:"#ffffff"}},title:{display:!1},tooltip:{usePointStyle:!0}},scales:{y:{ticks:{color:"#ffffff"},grid:{color:"#ffffff"}},x:{ticks:{color:"#ffffff"},grid:{color:"#ffffff"}}}}};var options_two={series:[{name:"Sales",data:[200,320,200,400]}],chart:{type:"area",height:350,zoom:{enabled:!1},sparkline:{enabled:!0}},dataLabels:{enabled:!1},stroke:{curve:"straight",colors:["#ffffff"]},labels:["","","",""],xaxis:{type:"none"},yaxis:{opposite:!0,min:0},legend:{show:!1,colors:["#ff00d8"]},grid:{show:!1,padding:{left:0,right:0,bottom:0}},fill:{colors:"#f1c40f",type:"solid"},markers:{size:4,shape:"circle",colors:["#ff00d8"],fillColors:["#ff00d8"]}},options={series:[{name:"New",data:[44,55,57,56,61,58,63,60,66]},{name:"Returning",data:[76,85,101,98,87,105,91,114,94]}],chart:{type:"bar",height:350},plotOptions:{bar:{horizontal:!1,columnWidth:"65%",endingShape:"rounded"}},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},xaxis:{categories:["12-3-14","12-4-14","12-5-14","12-6-14","12-7-14","12-8-14","12-9-14","12-10-14","12-11-14"]},yaxis:{title:{text:"Users"}},fill:{opacity:1,colors:["#34495e","#1efe00"]},tooltip:{y:{formatter:function(t){return t+" users"}}},legend:{colors:["#34495e","#1efe00"],markers:{fillColors:["#34495e","#1efe00"]}}};function update_counters(){fetch("https://api.countapi.xyz/update/pm_21_11/total_visits/?amount=1").then(t=>t.json()).then(t=>{total_count.innerHTML=t.value})}function _prev(){1==month_of_today&&(month_of_today=13),today.setDate(1),today.setMonth(month_of_today-1),day_of_today=today.getDate(),weekday_of_today=today.getDay(),month_of_today=today.getMonth(),make_calendar()}function _next(){12==month_of_today&&(month_of_today=-1),today.setDate(1),today.setMonth(month_of_today+1),day_of_today=today.getDate(),weekday_of_today=today.getDay(),month_of_today=today.getMonth(),make_calendar()}function reload(){location.reload()}function drawRegionsMap(){var t=google.visualization.arrayToDataTable([["Country","Percent of users"],["Germany","10%"],["United States","11%"],["Canada","12%"],["RU","18%"],["Ukraine","40%"],["China","9%"]]);new google.visualization.GeoChart(document.getElementById("regions_div")).draw(t,{sizeAxis:{minValue:0,maxValue:100},backgroundColor:"#f39c12",defaultColor:"#56d4f1",datalessRegionColor:"#efbb88",width:"100%"})}function _alert(){alert(document.getElementById("massage").value)}window.addEventListener("load",function(){update_counters();var t=new Chart(document.getElementById("big_graph"),config_one);document.getElementById("reload").addEventListener("click",reload),document.getElementById("next").addEventListener("click",_next),document.getElementById("prev").addEventListener("click",_prev),document.getElementById("send").addEventListener("click",_alert),document.getElementById("bot_left").addEventListener("click",display_comments),document.getElementById("bot_middle").addEventListener("click",get_articals),document.getElementById("bot_right").addEventListener("click",get_users);var e=new ApexCharts(document.querySelector("#area_graph"),options_two),a=new ApexCharts(document.querySelector("#bar_chart"),options);e.render(),a.render(),t.options.animation=!1,make_calendar()}),google.charts.load("current",{packages:["geochart"],mapsApiKey:"AIzaSyD-9tSrke72PouQMnMX-a7eZSW0jkFMBWY"}),google.charts.setOnLoadCallback(drawRegionsMap);const today=new Date;let day_of_today=today.getDate(),weekday_of_today=today.getDay(),month_of_today=today.getMonth();const months=["January","February","March","April","May","June","July","August","September","October","November","December"],days=["MO","TU","WE","TH","FR ","SA","SU"],days_in_month=[31,29,31,30,31,30,31,31,30,31,30,31],my_calendar=$("#calendar"),month=$("#month_sel");function make_calendar(){month.empty(),month.append(months[month_of_today]),my_calendar.empty();let e=day_of_today%7;e=weekday_of_today-e,e<0&&(e=7+e);for(let t=0;t<7;t++)my_calendar.append('<div class="p-1 cal_d">'+days[t]+"</div>");for(let t=0;t<days_in_month[month_of_today]+e;t++)t<7&&t<e?my_calendar.append('<div class="p-1"></div>'):t-e+1!=day_of_today?my_calendar.append('<div class="cal_el p-1">'+(t-e+1)+"</div>"):my_calendar.append('<div id="today" class="cal_el p-1">'+(t-e+1)+"</div>")}0==weekday_of_today&&(weekday_of_today=7);const bottom_tile=$("#content");function display_comments(){bottom_tile.empty(),bottom_tile.append('<div class="comment p-3"><img class="avatar" src="images/av1.bmp"><div class="com_text"><div class="ps-1"><sub>by</sub><h6>Jolia</h6></div><div class="ps-1">Its long established fact that a reader will be distracted by a readable content of page when looking at its layout.</div></div></div>    <div class="comment p-3"><img class="avatar" src="images/av2.bmp"><div class="com_text"><div class="ps-1"><sub>by</sub><h6>Deo</h6></div><div class="ps-1">Its long established fact that a reader will be distracted by a readable content of page when looking at its layout.</div></div></div>      <div class="comment p-3"><img class="avatar" src="images/av3.bmp"><div class="com_text"><div class="ps-1"><sub>by</sub><h6>Phionne</h6></div><div class="ps-1">Its long established fact that a reader will be distracted by a readable content of page when looking at its layout.</div></div></div>')}function display_articles(e){bottom_tile.empty();for(let t=0;t<e.length;t++)bottom_tile.append('<div class="p-3 article_content"><h6>'+e[t].name+'</h6><p class="p-3">'+e[t].content+"</p></div>")}function display_users(e){bottom_tile.empty();for(let t=0;t<e.length;t++)bottom_tile.append('<div class="comment p-3"><img class="avatar" src="'+e[t].avatar+'"><div class="com_text"><div class="ps-1"><h6>'+e[t].name+'</h6></div><div class="ps-1">'+e[t].email+"</div></div></div>")}function get_users(){$.ajax({url:"https://reqres.in/api/users?page="+(Math.floor(2*Math.random())+1),type:"GET",success:function(e){let a=[];for(let t=0;t<e.data.length;t++)a.push({email:"",avatar:"",name:""}),a[t].email=e.data[t].email,a[t].avatar=e.data[t].avatar,a[t].name=e.data[t].first_name+" "+e.data[t].last_name;display_users(a)}})}function get_articals(){$.get("data/data.json").done(function(t){display_articles(t=t.articals)}).fail(function(t){console.log("error")})}